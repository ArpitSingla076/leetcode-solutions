class Solution {
    public TreeNode converttoBST(List<Integer> result,int start,int end) {
        if(start>end)return null;
        int mid = start + (end-start)/2;
        TreeNode root = new TreeNode(result.get(mid));
        root.left = converttoBST(result,start,mid-1);
        root.right = converttoBST(result,mid+1,end);
        return root;
    }

    public void inorder(List<Integer> result, TreeNode root) {
        if(root==null)return;
        inorder(result,root.left);
        result.add(root.val);
        inorder(result,root.right);
    }

    public TreeNode balanceBST(TreeNode root) {
        List<Integer> result = new ArrayList<>();
        inorder(result,root);
        int n = result.size();
       return converttoBST(result,0,n-1);  
    }
}
